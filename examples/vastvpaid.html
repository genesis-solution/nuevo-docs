<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Videojs/Nuevo - VAST/VPAID Plugin</title>
<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="header">
	<div class="menu">
		<a href="https://www.nuevodevel.com/nuevo/"><img src="images/nuevodevel.png"></a>
		<div class="browse">&larr; <a href="index.html">Back to examples</a></div>
	</div>
</div>

<div class="container">
	<h1>VAST/VPAID Plugin by Nuevodevel.com</h1>	
	
	<link href="../videojs/skins/shaka/videojs.min.css" rel="stylesheet" type="text/css" />
	<script src="../videojs/video.min.js"></script>
	<script src="../videojs/plugins/vast.vpaid.min.js"></script>
	<script src="../videojs/nuevo.min.js"></script>

	<div class="media-parent">
		<div class="media-child">
			<video id="player_1" class="video-js vjs-fluid" controls preload playsinline webkit-playsinline poster="images/poster.jpg">
				<source src="//opencdn.b-cdn.net/video/demo_720.mp4" type="video/mp4">
				<source src="opencdn.b-cdn.net/video/demo_720.webm" type="video/webm">
			</video>
		</div>
	</div>

	<script>
	var player = videojs('player_1');
	player.nuevo({ 
		//option1: 'value',
		//option2: 'value'
	});
	player.vastAds ({ tagURL: "vast/spotx.xml", id:"Ad001" });
	
	var adid=false;
	player.on('adEvent', function(event, data) {
		var textarea = document.querySelector(".events");
		var ad_id = data.id;
		var event_type = data.type;
		if(adid!=true) {
			adid=true;
			textarea.innerHTML='<span>AD Id: '+ad_id+'</span>';
		}
		textarea.innerHTML=textarea.innerHTML+'\r\n'+'<span>'+event_type+'</span>';
	});

	</script>

<h2>Ad Events Tracking</h2>	
<div class="events"></div>

<h2>Code Setup</h2>
<pre>

<span class="comment">&lt;!--Load skin css, videojs and plugins inside &lt;body&gt; tag--&gt;</span>
&lt;link href="../videojs/skins/shaka/videojs.min.css" rel="stylesheet" type="text/css" /&gt;

&lt;script src="../videojs/video.min.js"&gt;&lt;/script&gt;
&lt;script src="../videojs/plugins/vast.vpaid.min.js"&gt;&lt;/script&gt;
&lt;script src="../videojs/nuevo.min.js"&gt;&lt;/script&gt;

<span class="comment">&lt;!--Video tag setup--&gt;</span>
&lt;video id="<span class="mark">player_1</span>" class="video-js vjs-fluid" controls preload playsinline poster="images/poster.jpg"&gt;
	&lt;source src="//devnuevo.com/media/video/demo_720.mp4" type="video/mp4"&gt;
	&lt;source src="//devnuevo.com/media/video/demo_720.webm" type="video/webm"&gt;
&lt;/video&gt;

<span class="comment">&lt;!--Initialize player and Nuevo pluging--&gt;</span>
&lt;script&gt;
	var player = videojs('<span class="mark">player_1</span>');
	player.nuevo({ 
		//option1: 'value',
		//option2: 'value'
	});

	<span class="comment">&lt;!--Initialize VAST/VPAID Ads--&gt;</span>
	player.vastAds ({ tagURL: "vast/spotx.xml", id:"Ad001" });

&lt;/script&gt;
</pre>
<h2>How to track ad events</h2>
<pre>
&lt;script&gt;
player.on('adEvent', function(event, data) {
	var adId = data.id;
	var eventType = data.type;
});
&lt;/script&gt;
</pre>

<h2>Multiple VAST/VPAID ads</h2>
<pre>
&lt;script&gt;
player.vastAds ([
   {tagURL: "preroll-1-ad-tag-url", id: 'x01'},
   {tagURL: "preroll-2-ad-tag-url", id: 'x02'},
   {tagURL: "midroll-1-ad-tag-url", id: 'x03', timeOffset:"00:15"},
   {tagURL: "midroll-2-ad-tag-url", id: 'x04', timeOffset:'00:15'},
   {tagURL: "postrol-ad-tag-url", id: 'x04', timeOffset:'end'}
]);
&lt;/script&gt;
</pre>
<br /><br />

<div class="warn">
It is required to setup proper CORS (Cross-Origin Resource Sharing) configuration on server  to enable cross-site HTTP requests.<br />
Implementing the request headers to set up CORS correctly depends on the language and framework of the backend.<br />
More information about enabling CORS you can find on <a target="_blank" href="https://enable-cors.org/">https://enable-cors.org</a>
</div>
</div>
<div class="footer">
&copy; 2008 - 2020, <a href="https://www.nuevodevel.com">Nuevo Development</a>. All rights reserved.
</div>

</body>
</html>